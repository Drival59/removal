{% extends 'base.html.twig' %}
{% block stylesheets %}
  <link rel="stylesheet" href="{{ asset('css/style-home.css') }}">
{% endblock %}
{% block body %}
  <div class="container-fluid">

    <div id="removalDown">
      {% for raidInProgress in raidsInProgress %}
        <table class="table">
          <h4>{{ raidInProgress.name }}</h4>
          <thead class="thead-dark">
            <tr>
              <th>Boss</th>
              <th>NM</th>
              <th>HM</th>
              <th>MM</th>
            </tr>
          </thead>
          {% for bossdown in bossdowns %}
            {% if bossdown.raid.id == raidInProgress.id %}
              <tr>
                <td><img src="{{ asset('images/boss/' ~ bossdown.imageUrl) }}" alt="{{ bossdown.name }}" title="{{ bossdown.name }}" width="60px" height="30px"/></td>
                <td>
                  {% if bossdown.nm == 1 %}
                    <i class="fas fa-check"></i>
                  {% else %}
                    <i class="fas fa-times"></i>
                  {% endif %}
                </td>
                <td>
                  {% if bossdown.hm == 1 %}
                    <i class="fas fa-check"></i>
                  {% else %}
                    <i class="fas fa-times"></i>
                  {% endif %}
                </td>
                <td>
                  {% if bossdown.mm == 1 %}
                    <i class="fas fa-check"></i>
                  {% else %}
                    <i class="fas fa-times"></i>
                  {% endif %}
                </td>
              </tr>
            {% endif %}
          {% endfor %}

        </table>
      {% endfor %}
    </div>

    <div id="removal-CarouselNews">
      <div id="removal-carousel" class="carousel slide" data-ride="carousel">
        <ol class="carousel-indicators">
          <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
        </ol>
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img class="d-block w-100" src="http://i.imgur.com/wzo8Khn.jpg" alt="First slide">
            <div class="carousel-caption d-none d-md-block">
              <h5>WOW</h5>
              <p>C'est la vie</p>
            </div>
          </div>
          <div class="carousel-item">
            <img class="d-block w-100" src="https://i.ytimg.com/vi/K1TC89bLzC4/maxresdefault.jpg" alt="Second slide">
            <div class="carousel-caption d-none d-md-block">
              <h5>WOW</h5>
              <p>C'est la vie</p>
            </div>
          </div>
        </div>
        <a class="carousel-control-prev" href="#removal-carousel" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#removal-carousel" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>


      {% for new in news %}

        {% if loop.index > 5 %}
          <div class="removalNews hidden">
        {% else %}
          <div class="removalNews">
        {% endif %}
          <div class="removalNewsImg">
            <a href="#"><img src="{{ asset('images/news/' ~ new.imageUrl) }}" alt="lol" width="100%" height="100%"/></a>
          </div>

          {% set countComment = 0 %}
          {% for comment in comments %}
            {% if comment.news.id == new.id %}
              {% set countComment = countComment + 1 %}
            {% endif %}
          {% endfor %}

          <div class="removalNewsContent">
            <h3>
              <a href="#">{{ new.title }}</a>
              <i class="far fa-comment-alt" style="float:right">
              {{ countComment }}
              </i>
            </h3>

            <i>Écrit par {{ new.utilisateur.username }} le {{ new.dateNews|date('d/m/Y à H:i') }}</i>
            <hr />
            <p>{{ new.content|slice(0,255) ~ '...' }}</p>
          </div>
        </div>

      {% endfor %}

      <button id="moreNews" type="button" class="btn btn-dark btn-lg" style="margin-top:50px;">Afficher plus d'actualités</button>

    </div>

    <div class="removal-widgets">
      <h4>Recrutement</h4>
      <div id="removal-recruitement">
        <p>Viens remplir ton formulaire ici !</p>
        <button type="button" class="btn btn-dark btn-lg">Rejoins-nous</button>
      </div>

      <h4>Qui sommes-nous</h4>
      <div id="removal-description">
        <p>Cumque pertinacius ut legum gnarus accusatorem flagitaret atque sollemnia, doctus id Caesar libertatemque superbiam ratus tamquam obtrectatorem audacem excarnificari praecepit, qui ita evisceratus ut cruciatibus membra deessent, inplorans caelo iustitiam, torvum renidens fundato pectore mansit inmobilis nec se incusare nec quemquam alium passus et tandem nec confessus nec confutatus cum abiecto consorte poenali est morte multatus. et ducebatur intrepidus temporum iniquitati insultans, imitatus Zenonem illum veterem Stoicum qui ut mentiretur quaedam laceratus diutius, avulsam sedibus linguam suam cum cruento sputamine in oculos interrogantis Cyprii regis inpegit.
        </p>
      </div>
    </div>
  </div>
{% endblock %}

{% block javascripts %}
  <script src="{{ asset('js/removal-home.js')}}"></script>
{% endblock %}
